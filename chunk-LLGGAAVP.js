import"./chunk-Z4XRF6AS.js";import"./chunk-3HTDGFSB.js";import"./chunk-KLDVVWAA.js";import"./chunk-5CVF6KX2.js";import{m as $}from"./chunk-LYU3BLI2.js";import{b as U}from"./chunk-SCEJZ6UT.js";import"./chunk-A3AVJPY7.js";import{a as k}from"./chunk-ZCZ743RB.js";import"./chunk-WFYLTVU6.js";import{$ as z,Da as C,Fa as O,K as L,Ka as S,L as T,La as F,M as h,Na as D,Oa as V,Pa as s,Qa as o,Ra as _,Ya as d,aa as B,ac as M,ca as E,ia as l,ib as b,ja as y,jb as G,kb as j,ra as x,tb as P,va as v}from"./chunk-IJCD47QI.js";import"./chunk-YHOLSLLF.js";var R=(()=>{class n{constructor(t,e){this.elementRef=t,this.platformId=e,this.label="",this.value="",this.unit="",this.animatedValue=x("0"),this.hasAnimated=!1}ngOnInit(){M(this.platformId)?this.setupIntersectionObserver():this.animatedValue.set(this.value)}ngOnDestroy(){M(this.platformId)&&this.observer&&this.observer.disconnect()}setupIntersectionObserver(){this.observer=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&!this.hasAnimated&&(this.hasAnimated=!0,this.animateCounter())})},{threshold:.5,rootMargin:"0px 0px -50px 0px"}),this.observer.observe(this.elementRef.nativeElement)}animateCounter(){let{numericValue:t,suffix:e,hasPlus:i,originalFormat:a,originalDecimalPlaces:u}=this.parseValue(this.value);if(t===0){this.animatedValue.set(this.value);return}let m=2e3,I=performance.now(),r=g=>{let p=g-I,f=Math.min(p/m,1),A=1-Math.pow(1-f,4),N=t*A,w=this.formatNumber(N,a,u);e&&(w+=e),i&&(w+="+"),this.animatedValue.set(w),f<1&&requestAnimationFrame(r)};requestAnimationFrame(r)}parseValue(t){let e=t.includes("+"),i=t.replace(/[+,]/g,""),a=i.match(/(\d+(?:\.\d+)?)\s*([KMB]?)$/i);if(a){let[,r,g]=a,p=parseFloat(r),f=r.includes(".")?"decimal":"integer",A=r.includes(".")?r.split(".")[1].length:0;switch(g.toUpperCase()){case"K":p*=1e3;break;case"M":p*=1e6;break;case"B":p*=1e9;break}return{numericValue:p,suffix:g.toUpperCase(),hasPlus:e,originalFormat:f,originalDecimalPlaces:A}}let u=parseFloat(i)||0,m=i.includes(".")?"decimal":"integer",I=i.includes(".")?i.split(".")[1].length:0;return{numericValue:u,suffix:"",hasPlus:e,originalFormat:m,originalDecimalPlaces:I}}formatNumber(t,e,i=0){if(e==="integer")return Math.round(t).toLocaleString();{let a=Math.min(i,3);return t.toLocaleString(void 0,{minimumFractionDigits:a,maximumFractionDigits:a})}}static{this.\u0275fac=function(e){return new(e||n)(y(B),y(E))}}static{this.\u0275cmp=h({type:n,selectors:[["app-statistic-card"]],inputs:{label:"label",value:"value",unit:"unit"},standalone:!0,features:[P],decls:7,vars:3,consts:[[1,"overflow-hidden","cursor-pointer","mb-4","lg:mb-0","w-full","lg:w-[400px]","h-[233px]","bg-spring-wood","rounded-lg","p-8","flex","flex-col","justify-center","items-start","transition-transform","duration-300","hover:-translate-y-2"],[1,"text-primary","text-[66px]","text-nowrap"],[1,"text-4xl"],[1,"text-rangoon-green","text-xl"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1),b(2),s(3,"span",2),b(4),o()(),s(5,"div",3),b(6),o()()),e&2&&(l(2),j("",i.animatedValue()," "),l(2),G(i.unit),l(2),G(i.label))},changeDetection:0})}}return n})();function K(n,c){if(n&1&&(s(0,"div",1),_(1,"image-optimization",4),o()),n&2){let t,e,i=d();l(),C("imageUrl",(t=i.statisticsContent())==null||t.image==null||t.image.data==null||t.image.data.attributes==null?null:t.image.data.attributes.url)("width",753)("height",673)("alt",(e=i.statisticsContent())==null?null:e.title)("classList","object-contain")}}function H(n,c){if(n&1&&_(0,"app-statistic-card",5),n&2){let t=d().$implicit;C("label",t.description)("value",t.stat)("unit",t.unit)}}function J(n,c){if(n&1&&v(0,H,1,3,"app-statistic-card",5),n&2){let t,e=c.$index,i=d();S(0,((t=i.statisticsContent())==null||t.PilgAtGlanceStat==null?null:t.PilgAtGlanceStat.length)===1&&e===0||((t=i.statisticsContent())==null||t.PilgAtGlanceStat==null?null:t.PilgAtGlanceStat.length)===2&&e<2||((t=i.statisticsContent())==null||t.PilgAtGlanceStat==null?null:t.PilgAtGlanceStat.length)===3&&e<2||((t=i.statisticsContent())==null||t.PilgAtGlanceStat==null?null:t.PilgAtGlanceStat.length)===4&&e<2?0:-1)}}function Q(n,c){if(n&1&&_(0,"app-statistic-card",5),n&2){let t=d().$implicit;C("label",t.description)("value",t.stat)("unit",t.unit)}}function W(n,c){if(n&1&&v(0,Q,1,3,"app-statistic-card",5),n&2){let t,e=c.$index,i=d();S(0,((t=i.statisticsContent())==null||t.PilgAtGlanceStat==null?null:t.PilgAtGlanceStat.length)===3&&e===2||((t=i.statisticsContent())==null||t.PilgAtGlanceStat==null?null:t.PilgAtGlanceStat.length)===4&&e>=2?0:-1)}}var mt=(()=>{class n{constructor(){this.localizeService=L($),this.statisticsContent=z(null),this.selectedLang=x("en"),this.localizeService.LangValue.subscribe(t=>{this.selectedLang.set(t)})}attachBaseUrl(t){return k(t)}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=h({type:n,selectors:[["app-statistics"]],inputs:{statisticsContent:[T.SignalBased,"statisticsContent"]},standalone:!0,features:[P],decls:9,vars:5,consts:[[1,"flex","flex-col","lg:flex-row","gap-6","lg:gap-0","items-center","w-full"],[1,"hidden","md:block","max-w-full","rounded-2xl","overflow-hidden","z-0","max-h-[673]"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","z-10","items-center"],[1,"flex","flex-col","gap-6","justify-center","items-center"],[3,"imageUrl","width","height","alt","classList"],[1,"w-full",3,"label","value","unit"]],template:function(e,i){if(e&1&&(s(0,"div",0),v(1,K,2,5,"div",1),s(2,"div",2)(3,"div",3),D(4,J,1,1,null,null,F),o(),s(6,"div",3),D(7,W,1,1,null,null,F),o()()()),e&2){let a,u,m;l(),S(1,!((a=i.statisticsContent())==null||a.image==null||a.image.data==null||a.image.data.attributes==null)&&a.image.data.attributes.url?1:-1),l(),O("lg:-mr-24",i.selectedLang()==="ar")("lg:-ml-24",i.selectedLang()!=="ar"),l(2),V((u=i.statisticsContent())==null?null:u.PilgAtGlanceStat),l(3),V((m=i.statisticsContent())==null?null:m.PilgAtGlanceStat)}},dependencies:[R,U],changeDetection:0})}}return n})();export{mt as StatisticsComponent};
